```

After creating the Kubernetes cluster

You are installing a complete monitoring system inside your Kubernetes cluster.

Before this:

Your cluster only runs applications.

No monitoring.

No dashboards.

No alerts.

After this:

Prometheus collects metrics.

Grafana shows dashboards.

Alertmanager sends alerts.


ğŸ§  What Happens After Cluster Creation?

When you create a cluster (EKS / K8s):

You only get:
Control Plane
Worker Nodes
System Pods



There is NO monitoring system by default.

So we install one.

ğŸ§° Step 2 â€“ Add Helm Repo
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm repo update


What is happening?

You are telling Helm:

â€œHey Helm, download monitoring software from this online chart repository.â€

Think like:

apt add repository

yum add repo

npm registry

Nothing is installed yet.
You only connected Helm to chart source.


ğŸš€ Step 3 â€“ Create Namespace
kubectl create ns monitoring


What is happening?

Inside your cluster, a new logical folder is created:

Cluster
â”‚
â”œâ”€â”€ default
â”œâ”€â”€ kube-system
â””â”€â”€ monitoring   â† NEW


All monitoring tools will go inside this namespace.

ğŸš€ Step 3 â€“ Install Monitoring Stack

helm install monitoring prometheus-community/kube-prometheus-stack \
-n monitoring \
-f ./custom_kube_prometheus_stack.yml

Now the real action happens ğŸ”¥

ğŸ— What Happens Internally?

ğŸ“¦ What Gets Created Inside "monitoring" Namespace?

monitoring namespace
â”‚
â”œâ”€â”€ Prometheus (StatefulSet)
â”œâ”€â”€ Grafana (Deployment)
â”œâ”€â”€ Alertmanager (StatefulSet)
â”œâ”€â”€ Node Exporter (DaemonSet)
â”œâ”€â”€ kube-state-metrics
â”œâ”€â”€ Services
â”œâ”€â”€ ConfigMaps
â”œâ”€â”€ Secrets


Components:

Prometheus â†’ Collect metrics

Grafana â†’ Dashboards

â†’ Alerts


ğŸ“Š Architecture Diagram

                Kubernetes Cluster
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        monitoring namespace     â”‚
        â”‚                                â”‚
        â”‚   Prometheus  â† collects data  â”‚
        â”‚   Grafana     â† shows graphs   â”‚
        â”‚   Alertmanagerâ† sends alerts   â”‚
        â”‚   NodeExporterâ† node metrics   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸŒ Accessing UI (Port Forward)

Kubernetes services are internal by default. we cannot access form your system withot port forwarding.


To access from your laptop:

Prometheus UI
kubectl port-forward service/prometheus-operated -n monitoring 9090:9090
http://localhost:9090


Grafana UI
kubectl port-forward service/monitoring-grafana -n monitoring 8080:80
http://localhost:8080

Alertmanager UI
kubectl port-forward service/alertmanager-operated -n monitoring 9093:9093
http://localhost:9093

ğŸ” What Monitoring Actually Does After Installation?

Once running:

Node Exporter â†’ sends node CPU/memory metrics
kube-state-metrics â†’ sends pod/deployment data
        â†“
Prometheus â†’ stores metrics in time series DB
        â†“
Grafana â†’ reads from Prometheus
        â†“
You see dashboards

Now your cluster is observable ğŸ‘€

Node Exporter  â†’  /metrics
kube-state     â†’  /metrics
My App         â†’  /metrics
        â†‘
        â”‚
   Prometheus finds them automatically
        â”‚
        â†“
   Prometheus scrapes every 15 seconds
        â”‚
        â†“
   Stores data
        â”‚
        â†“
   Grafana shows graph






```
